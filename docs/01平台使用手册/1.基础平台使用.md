---
sort: 1
---

# 基础平台使用（需要补图和修改）

​		本文从搭建准备、搭建过程、发包部署这几点，对平台使用做简要说明。通过本文，可以了解使用平台配置可视化大屏的过程。

## 准备

### 1  UI 设计稿

建议提供蓝湖，如果是 rp，需要提供标注图，无论是 rp 还是蓝湖，都需要告知以下内容:

1. 页面尺寸、每个模块的尺寸

2. 文字的 字体、大小、字体颜色

3. 背景颜色、距离屏幕边距

4. 提供基础 切图，如整体背景图、特殊的动图等，其他图片可以等研发对 UI 评估后再定项目部署.

   **建议 UI 出图的尺寸和现场大屏尺寸一致，如果存在超大屏，需要标注好缩放比例。**

### 2  素材中心

1. [本地素材中心](http://10.10.2.8:4007/)
2. 进入素材中心,选择**oss-visual**文件夹,该文件夹是可视化大屏专用文件夹,可以在该文件夹内,新建文件夹,并上传图片.
3. 界面示例如下:  

### 3  可视化平台

1. 用途:用于创建可视化场景
2. [本地可视化平台](http://10.10.2.8:9011/),菜单路径: ***可视化管理/场景管理/场景管理\***

### 4  数据接口文档

可视化大屏的数据来源,目前支持 ***内部接口/静态数据/数据集\*** 三种,其中内部接口类型的数据源,需要提供接口文档,用于大屏的数据配置.

## 搭建步骤

### 1  创建大屏

​		登录准备工作中的本地可视化平台并进入对应菜单,先创建分组后，再创建场景。场景创建完成后，会自动跳转到编辑器页面，请牢记浏览器 URL 中 id，便于日后大屏打包发布。

### 2  布局

​		界面布局参考 UI 设计，先做大屏尺寸设置、主标题和子标题布局。

1. 大屏尺寸设置：选图层中的背景画布，在右侧可以看到页面设置相关内容，在这里可以做大屏尺寸的设置及背景图的设置。
2. 主标题和子标题布局：根据蓝湖上子标题的位置，设置组件位置，子标题拖拽完后，页面布局基本完成。这里常用到的组件有：信息-->标题/单张图片、素材-->边框 10。

### 3  选择界面元素

​		界面元素即组件，根据需求，选择不同的组件拖拽到页面，保证鼠标焦点在画布区，点击[**ctrl+s**]，即可保存当前搭建的大屏，点击编辑器右上角的预览，即可看到搭建大屏在浏览器中的效果。 

### 4  设置界面交互

界面模块建的联动/切换,我们统称为交互.现在做如下划分，解析如下:

1. 数据是指有数据联动操作的，比如点击 A 组件中的数据 a1，会引起 B 组件的数据变化，这种情况，需要 A 组件具有抛出数据参数的能力，然后在 B 组件的数据接口中，接收 A 组件抛出的参数即可。
2. 界面：是指除了数据交互之外的界面交互
   1. 轮播：轮播通过组件成组实现，编辑器提供组件成组功能 。成组操作：按住 ctrl，鼠标选中图层中的需要成组节点，选择完成后，点击图层上方的成组按钮，即可将选中的图层成组。选中【组】节点，在右侧设置面板中，可以设置做轮播设置。 ***这里需要注意，如果需要设置轮播枚举，则要求轮播枚举的顺序与组内图层的顺序一致。\***
   2. 组件显隐：目前组件显隐功能，是通过界面组件抛出参数，【组】来接收参数实现的。这里的前提是，需要将组的轮播打开，自动轮播关闭，动画时长设置为 0，如下图 
   3. 弹框或抽屉：首先弹框或抽屉是组件级能力，如果有点击某一数字出现弹窗的需求，则需要当前数字所在的组件，具备弹框下钻的交互能力，才可以实现，例如，有下图设置的，就是具备弹框交互。

### 5  发布

​		大屏的发布目前分为仅大屏发布和平台发布，仅大屏发布简单理解就是仅发布搭建好的页面，发布平台 就是 开放搭建界面给现场，支持现场运维等去做大屏的建设。不管是那种发布方式，都需要 以下内容：

1. 可视化组件包
2. 可视化编辑器/ 解析器
3. 可视化界面配置（需要记好创建大屏的 ID，用于做配置数据导出使用）

## 配置注意事项

1. 不可删除、修改他人创建的大屏,建议一人一账户,尽量不要使用系统管理员账户.
2. 界面先行,在需求及 UI 具备后,建议先搭建出来一屏,再将用到的组件及需要的接口告知接口开发,避免返工.
3. 界面使用的组件，与接口数据格式强相关，选择组件时，需要考虑数据接入情况.
4. 自定义的抛出参数，可设置为任一英文名称，整个屏内不可重复，接收该参数时，需要在参数名称前加冒号,如抛出参数为 [**a**] ,接收 时写作 [**:a**]。