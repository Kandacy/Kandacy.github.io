---
sort: 2
---

# 指标翻牌器(stats-indi)

{:toc}

​		指标翻牌器是文字组件的一种，支持自定义翻牌器的标题、数字、前缀、后缀等样式，通常与其他组件配合使用，通过交互功能在可视化应用中展示实时数据的变化情况。

![01](.\images-stats-indi\02.png)

## 一，配置项

### 1，组件基础配置项

| 配置项   | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 位置     | 组件在组内的位置                                             |
| 尺寸     | 组件尺寸                                                     |
| 角度     | 组件相对组件原点顺时针旋转角度。可通过<img src=".\images-stats-indi\01.png" alt="01" style="zoom:65%;" />两个图标，对组件进行y轴或x轴翻转 |
| 锁定图层 | 固定图层的位置和大小，防止误拖动。（可以通过直接赋值设置位置和尺寸） |
| 隐藏图层 | 将组件在画布上隐藏                                           |

### 2，布局配置项

​		一个指标翻牌器可能包括多个翻牌器，所以指标翻牌器的布局分为组合布局和单项布局。组合布局即调整所有翻牌器之间的位置关系。单项布局即每一项的单独属性设置。

- 组合布局

  | 配置项     | 说明                                    |
  | ---------- | --------------------------------------- |
  | 排列方向   | 设置所有翻牌器的位置关系为水平/垂直排列 |
  | 主轴排列   | 设置主轴的排列方式                      |
  | 交叉轴排列 | 设置交叉轴的排列方式                    |

  这里的主轴，表示的是排列方向上的轴。如排列方向为水平排列，则主轴为x轴。交叉轴即垂直于主轴的轴。

- 单项布局

  | 配置项          | 说明                           |
  | --------------- | ------------------------------ |
  | 单项宽度类型    | 单项翻牌器的宽度，支持自定义值 |
  | 单项高度类型    | 单项翻牌器的高度，支持自定义值 |
  | 单项背景        | 为所有翻牌器设置同样的背景图片 |
  | 排列方向        | 标题和指标的相对位置           |
  | 主轴/交叉轴排列 | 设置主轴/交叉轴排列方式        |
  | 项目图标位置    | ？                             |

### 3，数字

| 配置项     | 说明                                                 |
| ---------- | ---------------------------------------------------- |
| 尺寸       | 设置数字位之间的间隔，同时也会改变数字和单位的间隔   |
| 千分位     | 当数字超过1000时，可以显示为“1,000”，其中“,”为分隔符 |
| 分隔符设置 | 设置千分位分隔符                                     |
| 文本属性   | 设置相应文本属性                                     |
| 文字间隔   | 同“尺寸”配置项                                       |
| 默认位数   | 默认显示小数点后的位数。为0时不显示小数点。          |
| 动画       | 翻牌器在数据更新时的翻牌动画。动画时长以毫秒为单位   |

​		翻牌器支持设置每个数字位的背景。只需要设置翻牌器属性为“经典”。如下图所示。

![03](.\images-stats-indi\03.png)

​		当图片为空时，我们也可以设置固定颜色的背景。

| 配置项   | 说明                 |
| -------- | -------------------- |
| 背景颜色 | 所有数字位的背景颜色 |
| 背景圆角 | 数字位背景的圆角值   |

![04](.\images-stats-indi\04.png)

### 4，文本

- 前缀后缀

  前缀后缀具有相同的配置项，包括文本内容和基础文本样式（字体、粗细、字号、颜色、字间距）。它们的位置关系如下图所示。

![05](.\images-stats-indi\05.png)

- 指标名文本

  这里的文本除了基础文本样式的设置，还可以设置其文本和数字的间距。

### 5，趋势图标

​		趋势图标用于指示数值是否超过某个阈值（多数情况设为0，表示正增长或负增长）或处在某个级别（以级别做区分）。

| 配置项       | 说明                               |
| ------------ | ---------------------------------- |
| 显示位置     | 设置趋势图标在数字左侧还是右侧     |
| 影响数值颜色 | 数值颜色是否跟着趋势图标的颜色改变 |
| 趋势图标     | 可以设置图标样式。支持自定义的图片 |

​		趋势图标支持两种设置颜色的方式。

- 以一个临界值，设置不同的颜色

  | 配置项   | 说明                                     |
  | -------- | ---------------------------------------- |
  | 临界值   | 控制数值的临界值，临界值两侧使用不同颜色 |
  | 上升趋势 | 当数字大于临界值时，趋势图标显示的颜色   |
  | 下降趋势 | 当数字小于临界值时，趋势图标显示的颜色   |

  ​	我们也可以将趋势图标设置为“自定义”，来自定义上升下降趋势的图标。

  ​	当数值等于临界值时，趋势图标消失。

- 以级别做区分，设置不同的颜色

  当开启级别渲染设置时，以临界值为标准的颜色改变会失效。我们可以通过数据栏的“render”属性设置每个翻牌器的级别，并在配置栏中为每个级别配置趋势的颜色和图标。

  | 配置项   | 说明                                                   |
  | -------- | ------------------------------------------------------ |
  | 级别     | 对应的级别                                             |
  | 颜色     | 当趋势图标非“自定义”时，此颜色作用于趋势图标。否则无效 |
  | icon宽度 | 当趋势图标为“自定义”时，设置趋势图片的大小。否则无效   |
  | 图片     | 当趋势图标为“自定义”时，设置趋势图片。否则无效         |

### 6，高亮设置

​		指标翻牌器中可能包含数个翻牌器。我们可以设置翻牌器在被选中时高亮，同时可以分别设置被选中时和未被选中时的透明度和缩放比例。效果如下图所示。

![06](.\images-stats-indi\06.png)

​		高亮是根据被点击翻牌器的id属性决定的。如果两个翻牌器id相同，点击一个，另一个也会高亮。

### 7，分页显示（复杂且使用频率不高，后补）



## 二，组件数据栏属性

​		组件数据来源优先级：交互栏>数据栏>配置栏

| 属性   | 说明       | 其它配置位置 |
| ------ | ---------- | ------------ |
| id     | 翻牌器id   |              |
| name   | 指标名文本 |              |
| value  | 翻牌器数字 |              |
| unit   | 翻牌器后缀 | 配置栏       |
| icon   | （？）     | （？）       |
| render | 翻牌器级别 |              |

## 三，交互（需独立文章介绍）

- 指标单击事件>>下钻
- 指标单击事件>>派发参数

## 四，使用技巧

### 1，作为普通数字使用

​		无论是一组数字，还是单个数字，指标翻牌器都可以胜任。要得到最简单的数字，只需要将数据栏中的数据都置空，仅保留数值。然后在配置中，将翻牌器设置为普通，关闭趋势开关。